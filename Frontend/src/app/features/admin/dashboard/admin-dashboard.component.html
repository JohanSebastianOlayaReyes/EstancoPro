<div class="admin-shell">
  <div class="container-wrapper">
    <app-sidebar-menu [sections]="menuSections"></app-sidebar-menu>

    <div class="main-content">
      <section class="kpi-row">
        <div class="kpi-card">
          <div class="kpi-label">Ventas Hoy</div>
          <div class="kpi-value">{{ salesTotalRevenue | currency:'USD':'symbol':'1.0-0' }}</div>
          <div class="kpi-bottom">Ingresos totales del día</div>
        </div>

        <div class="kpi-card">
          <div class="kpi-label">Productos</div>
          <div class="kpi-value">{{ productsCount }}</div>
          <div class="kpi-bottom">Total en catálogo</div>
        </div>

        <div class="kpi-card">
          <div class="kpi-label">Proveedores</div>
          <div class="kpi-value">{{ suppliersCount }}</div>
          <div class="kpi-bottom">Proveedores activos</div>
        </div>

        <div class="kpi-card">
          <div class="kpi-label">Usuarios</div>
          <div class="kpi-value">{{ usersCount }}</div>
          <div class="kpi-bottom">Usuarios del sistema</div>
        </div>
      </section>

      <section class="chart-section">
        <app-estanco-card>
          <div class="chart-header">
            <h3>Ventas por Hora (Hoy)</h3>
            <span class="chart-note">{{ currentDate }}</span>
          </div>
          <div class="bar-chart">
            <div class="bar-row" *ngFor="let item of chartData; let i = index">
              <div class="bar-label">{{ item.label }}</div>
              <div class="bar-container">
                <div class="bar" [style.width.%]="item.percentage">
                  <span class="bar-value">{{ item.value }}</span>
                </div>
              </div>
            </div>
          </div>
          <div class="chart-footer">
            <strong>Total hoy:</strong> {{ salesTotalRevenue | currency:'USD':'symbol':'1.0-0' }}
          </div>
        </app-estanco-card>
      </section>

      <section class="admin-panels">
        <app-estanco-card class="panel-card">
          <div class="panel-header">Gestión Rápida</div>
          <ul class="panel-list">
            <li><a [routerLink]="['/admin/users']"><app-icon name="users" [size]="16"></app-icon> Usuarios</a></li>
            <li><a [routerLink]="['/admin/products']"><app-icon name="package" [size]="16"></app-icon> Productos</a></li>
            <li><a [routerLink]="['/admin/sales']"><app-icon name="coin" [size]="16"></app-icon> Ventas</a></li>
          </ul>
        </app-estanco-card>

        <app-estanco-card class="panel-card">
          <div class="panel-header">Alertas del Sistema</div>
          <ul class="panel-list">
            <li class="alert-warning"><app-icon name="alert-circle" [size]="14"></app-icon> Bajo stock en 3 productos</li>
            <li class="alert-info"><app-icon name="info" [size]="14"></app-icon> 2 proveedores sin contacto</li>
            <li class="alert-success"><app-icon name="check-circle" [size]="14"></app-icon> Sistema operativo</li>
          </ul>
        </app-estanco-card>

        <app-estanco-card class="panel-card">
          <div class="panel-header">Empleados Registrados</div>
          <ul class="tx-list">
            <li *ngFor="let user of users; let i = index">
              <span class="tx-label">{{ user.username || 'Usuario ' + (i+1) }}</span>
              <span class="tx-value">{{ user.email }}</span>
            </li>
          </ul>
        </app-estanco-card>
      </section>
    </div>
  </div>
</div>
